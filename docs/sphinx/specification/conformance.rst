Conformance
===========

An OME XML document is *valid* if it passes validation using the XSL
schema.  The specification is flexible, with many of the elements and
attributes being optional, making it possible to describe different
types of experiment and acquisition setup.  Here we define several
"conformance levels" which specify a required subset of the model
elements and attributes to be usable for certain applications.

.. note:: A units system was added in January 2015. The following
   examples assume the default unit for each value is used.

Minimum conformance level
-------------------------

The minimum metadata required for the display of an image. A sample of
the structure is:

.. literalinclude:: minimum-specification.ome.xml

Alternative valid forms:

-  would have a ``<TiffData/>`` block instead of the ``BinData``
   block (this would be used in the header of an OME-TIFF file)
-  would have a ``<MetadataOnly/>`` block instead of the ``BinData``
   block (this would be used as a companion to one or more ``BinaryOnly``
   OME-TIFF files)

Complete conformance level
--------------------------

The information a file should contain to authoritatively describe an
imaging experiment, so that another person could, with the same sample
and microscope, reproduce the data recorded in the file.  Therefore,
the metadata should be as complete as possible, but only contain
metadata relevant to a specific imaging experiment i.e. omitting
metadata not relevant to the experiment is acceptable. As an example,
PockelCellSetting would not be used in most wide-field microscopy
experiments, but would be mandatory for many multi-photon imaging
experiments.

Two samples of this structure are shown below. They were generated by
opening a propriety file (Olympus .oib and DeltaVision .dv,
respectively) in ImageJ, using the Bio-Formats plugin with the
*Display OME-XML Metadata* option checked. A few additional attributes
were then manually added to the files to make them complete.

Sample structure one:

.. literalinclude:: olympus.ome.xml

Sample structure two:

.. literalinclude:: deltavision.ome.xml

.. note::
    The data (BinData element content) in these sample was removed for
    reasons of length.

Alternative valid forms:

- would have a ``TiffData`` block instead of the ``BinData`` block
  (this would be used in the header of an OME-TIFF file)
- would have a ``MetadataOnly`` block instead of the ``BinData`` block
  (this would be used as a companion to one or more ``BinaryOnly``
  OME-TIFF files)

.. seealso::

    Figure 2 of Linkert et al (2010), J. Cell Biol. 189(5):777-782
    (http://jcb.rupress.org/content/189/5/777), but note this
    describes an older version of the schema.
   
HCS conformance level
---------------------

The minimum required for the display of HCS images. A sample of
the structure is:

.. literalinclude:: hcs.ome.xml

Alternative valid forms:

- would have a ``TiffData`` block instead of the ``BinData`` block
  (this would be used in the header of an OME-TIFF file)
- would have a ``MetadataOnly`` block instead of the ``BinData`` block
  (this would be used as a companion to one or more ``BinaryOnly``
  OME-TIFF files)
